---
title: "Rate Limiting"
---
このチュートリアルでは、Kong Managerでサービスの流量制限を設定する方法を説明します。

Admin APIを使用する場合は、 [{{site.base_gateway}}使用開始ガイド](/gateway/latest/get-started/rate-limiting/)を参照してください。

前提条件
----

Kong Manager が[有効になっている](/gateway/{{page.release}}/kong-manager/enable/) {{site.base_gateway}} インスタンスが必要です。

Rate Limitingプラグインを設定する
-----------------------

Kong Manager の「ワークスペース」タブで以下を行います。

1. **デフォルト** のワークスペースを開きます。

2. メニューから **プラグイン** を開き、 **プラグインのインストール** をクリックします。

3. **Rate Limiting** プラグインを見つけ、 **有効にする** をクリックしてください。

4. プラグインを **グローバル** として適用します。これにより、流量制限はワークスペース内のすべてのサービスとルートを含むすべてのリクエストに適用されます。

   **Scoped** に切り替えると、流量制限はプラグインを1つのサービス、ルート、またはコンシューマだけに適用します。

   デフォルトでは、フォームが送信されるとプラグインは自動的に有効になります。
   また、 **このプラグインは有効になっています** ボタンを切り替えて、有効化せずにプラグインを設定することもできます。
   この例では、プラグインを有効のままにします。
5. 次のフィールドのみに、次のパラメータを入力します。

   1. config.limit: `5`
   2. config.sync\_rate: `-1`
   3. config.window\_size: `30`

   上記のフィールド以外にも、デフォルト値が設定されているフィールドが存在する場合があります。この例では、残りのフィールドはそのままにしておきます。
6. **インストール（Install）** をクリックします。

流量制限の検証
-------

1. ブラウザのアドレスバーに `https://localhost:8000/mock` と入力し、ブラウザを 6 回リフレッシュします。
   6 回目のリクエストの後、エラーメッセージが表示されます。

2. 少なくとも30秒待ってからもう一度試してください。
   サービスは、30 秒以内に 6 回目のアクセス試行が行われるまでアクセス可能です。

次に、[プロキシキャッシュ](/gateway/{{page.release}}/kong-manager/get-started/proxy-caching/)について学習します。

