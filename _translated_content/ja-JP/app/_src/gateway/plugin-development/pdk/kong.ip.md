---
##
#  WARNING: this file was auto-generated by a script.
#  DO NOT edit this file directly. Instead, send a pull request to change
#  https://github.com/Kong/kong/tree/master/kong/pdk
#  or its associated files
##

title: "kong.ip"
pdk: true
toc: true
source_url: "https://github.com/Kong/kong/tree/master/kong/pdk/ip.lua"
---
信頼できる IP モジュール。

このモジュールは、特定のIPアドレスが`trusted_ips`構成プロパティによって定義された信頼できるIPアドレスの範囲内にあるかどうかを判断するために使用できます。

信頼できるIPアドレスとは、正しい代替となるアドレスをクライアントに送信することが
分かっているIPアドレスです（たとえばX\-Forwarded\-\*のように、
選択したヘッダーフィールド通りに）

[信頼できる IP に関するドキュメント](https://docs.konghq.com/gateway/latest/reference/configuration/#trusted_ips)を参照してください。

kong.ip.is\_trusted（アドレス）
--------------------------

`trusted_ips`構成プロパティに応じて、
この関数は、指定されたIPが信頼できるかどうかを返します。

ipv4とipv6の両方がサポートされています。

**フェーズ** 

* init\_worker, certificate, rewrite, access, header\_filter, response, body\_filter, log

**パラメータ** 

* **address** \(`string`\): IPアドレスを表す文字列。

**戻り値** 

* `boolean`: IP が信頼できる場合は`true` 、そうでない場合は`false` 。

**使用法** 

```lua
if kong.ip.is_trusted("1.1.1.1") then
  kong.log("The IP is trusted")
end
```

