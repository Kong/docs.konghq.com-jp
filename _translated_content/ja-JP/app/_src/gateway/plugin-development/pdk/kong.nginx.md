---
##
#  WARNING: this file was auto-generated by a script.
#  DO NOT edit this file directly. Instead, send a pull request to change
#  https://github.com/Kong/kong/tree/master/kong/pdk
#  or its associated files
##

title: "kong.nginx"
pdk: true
toc: true
source_url: "https://github.com/Kong/kong/tree/master/kong/pdk/nginx.lua"
---
Nginx 情報モジュール。

Nginx固有の実装詳細とメタ情報を取得するための
関数のセット。

kong.nginx.get\_subsystem\(\)
--------------------------------

この関数が呼び出される現在の Nginx サブシステムを返します。`"http"` または `"stream"` のいずれかです。

**フェーズ** 

* any

**戻り値** 

* `string`：`"http"`または`"stream"`のサブシステム。

**使用状況** 

```lua
kong.nginx.get_subsystem() -- "http"
```

kong.nginx.get\_statistics\(\)
---------------------------------

Nginxによって公開されているさまざまな接続とリクエストのメトリクスを返します。Nginxは、[ngx\_http\_stub\_status\_module](https://nginx.org/en/docs/http/ngx_http_stub_status_module.html#data)によって報告されたものと類似しています。

返されるテーブルには、次のフィールドが含まれます。

* `connections_active`\- `connections_waiting`を含むアクティブなクライアント接続の現在の数。
* `connections_reading` \- nginx がリクエストヘッダーを読み取っている現在の接続数。
* `connections_writing` \- nginxがレスポンスをクライアントに書き戻している現在の接続数。
* `connections_waiting` \- リクエストを待機しているアイドル状態のクライアント接続の現在の数。
* `connections_accepted` \- 受け入れられたクライアント接続の合計数。
* `connections_handled` \- 処理された接続の合計数。一部のリソース制限（[`worker_connections`](https://nginx.org/en/docs/ngx_core_module.html#worker_connections)制限など）に達していない限り、`connections_accepted` と同じです。
* `total_requests` \- クライアントリクエストの合計数。

**戻り値** 

* `table`：Nginx接続とリクエストの統計

**使用状況** 

```lua
local nginx_statistics = kong.nginx.get_statistics()
```

