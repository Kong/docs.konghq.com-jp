---
##
#  WARNING: this file was auto-generated by a script.
#  DO NOT edit this file directly. Instead, send a pull request to change
#  https://github.com/Kong/kong/tree/master/kong/pdk
#  or its associated files
##

title: "kong.node"
pdk: true
toc: true
source_url: "https://github.com/Kong/kong/tree/master/kong/pdk/node.lua"
---
ノードレベルのユーティリティ。

kong.node.get\_id\(\)
------------------------

このノードが自分自身を表すために使用する ID を返します。

**戻り値** 

* `string`：このノードによってそのIDとして使用されるv4 UUID。

**使用法** 

```lua
local id = kong.node.get_id()
```

kong.node.get\_memory\_stats\(\[unit\[, scale\]\]\)
-------------------------------------------------------

このノードに関するメモリ使用量の統計を返します。

**パラメータ** 

* **unit** （`string`、 *オプション* ）：メモリの報告単位。`b/B`、`k/K`、`m/M`、または`g/G`のいずれかに、それぞれbyte、kibibyte、mebibytes、またはgibibyteを指定します。デフォルトは`b`（byte）です。
* **scale** \(`number`, *optional* \): 小数点の右側の桁数。デフォルトは2です。

**戻り値** 

* `table`：このノードのメモリ使用量統計を含むテーブル。 `unit`が`b/B`（デフォルト）の場合、報告される値はLua数値になります。 それ以外の場合、報告される値は単位を接尾辞として持つ文字列になります。

**使用法** 

```lua
local res = kong.node.get_memory_stats()
-- res will have the following structure:
{
  lua_shared_dicts = {
    kong = {
      allocated_slabs = 12288,
      capacity = 24576
    },
    kong_db_cache = {
      allocated_slabs = 12288,
      capacity = 12288
    }
  },
  workers_lua_vms = {
    {
      http_allocated_gc = 1102,
      pid = 18004
    },
    {
      http_allocated_gc = 1102,
      pid = 18005
    }
  }
}

local res = kong.node.get_memory_stats("k", 1)
-- res will have the following structure:
{
  lua_shared_dicts = {
    kong = {
      allocated_slabs = "12.0 KiB",
      capacity = "24.0 KiB",
    },
    kong_db_cache = {
      allocated_slabs = "12.0 KiB",
      capacity = "12.0 KiB",
    }
  },
  workers_lua_vms = {
    {
      http_allocated_gc = "1.1 KiB",
      pid = 18004
    },
    {
      http_allocated_gc = "1.1 KiB",
      pid = 18005
    }
  }
}
```

kong.node.get\_hostname\(\)
------------------------------

ローカルマシンで使用されている名前を返します。

**戻り値** 

* `string`: ローカルマシンのホスト名。

**使用法** 

```lua
local hostname = kong.node.get_hostname()
```

